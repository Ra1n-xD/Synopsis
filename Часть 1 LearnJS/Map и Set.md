# Map и Set это cложные структуры данных в JS:
-   Объекты для хранения именованных коллекций.
-   Массивы для хранения упорядоченных коллекций.
## `Map` – коллекция пар ключ-значение с ключями любого типа.
### Методы и свойства:
-   `new Map([iterable])` – создаёт коллекцию, можно указать перебираемый объект (обычно массив) из пар `[ключ,значение]` для инициализации.
-   `map.set(key, value)` – записывает по ключу `key` значение `value`.
-   `map.get(key)` – возвращает значение по ключу или `undefined`, если ключ `key` отсутствует.
-   `map.has(key)` – возвращает `true`, если ключ `key` присутствует в коллекции, иначе `false`.
-   `map.delete(key)` – удаляет элемент по ключу `key`.
-   `map.clear()` – очищает коллекцию от всех элементов.
-   `map.size` – возвращает текущее количество элементов.

### Отличия от обычного объекта `Object`:
-   Что угодно может быть ключом, в том числе и объекты.
-   Есть дополнительные методы, свойство `size`.
```js
//Пример отличий ключей в Map и Объектах
let objKey = {
    test: 'test',
    hui: '12sm'
};

let map = new Map();
map.set(objKey, '123');

const obj = {};
obj[objKey] = '123';
  
console.log(obj); // { '[object Object]': '123' }
console.log(map); // Map(1) { { name: 'test' } => '123' }
```
- `map[key]` - плохой способ использования т.к ключи становятся типа string
```js
//Сравнение заполенние Map через set и []
let map = new Map();

map.set(1, 2);
map[1] = 2;
map.set([1, 2, 3], 2);
map[[1, 2, 3]] = 2;

console.log(map); // Map(2) { 1 => 2, '1': 2, [ 1, 2, 3 ] => 2, '1,2,3': 2 }
```
### Перебор Map
Для перебора коллекции `Map` есть 3 метода:
-   `map.keys()` – возвращает итерируемый объект по ключам,
-   `map.values()` – возвращает итерируемый объект по значениям,
-   `map.entries()` – возвращает итерируемый объект по парам вида `[ключ, значение]`, этот вариант используется по умолчанию в `for..of`.
```js
let map = new Map([
    [false, 'test'],
    [1, 2],
]);
for (let key of map) {
    console.log(key); //false, 1
}
//Остальное по аналогии
```
`Map` имеет встроенный метод `forEach`, схожий со встроенным методом массивов `Array`:
```js
map.forEach((value, key, map) => { 
	console.log(`${key}: ${value}`); // false: 'test' и так далее 
});
```
### Преобразование Map в Объект и наоборот
```js
//Из Объекта в Map
const obj = {
    'test': 123,
    'sosu': 'bibu',
};
console.log(new Map(Object.entries(obj))); //Map(2) { 'test' => 123, 'sosu' => 'bibu' }

//Из Map в Объект
let map = new Map([
    [[false, 'sosi', 123], 'test'],
    [1, 2],
    [{}, {}]
]);
console.log(Object.fromEntries(map)); // { '1': 2, 'false,sosi,123': 'test', '[object Object]': {} }
```

## `Set` – коллекция уникальных значений, так называемое «множество».
**Методы и свойства:**
-   `new Set([iterable])` – создаёт `Set`, можно указать перебираемый объект со значениями для инициализации.
-   `set.add(value)` – добавляет значение (если оно уже есть, то ничего не делает), возвращает тот же объект `set`.
-   `set.delete(value)` – удаляет значение, возвращает `true` если `value` было в множестве на момент вызова, иначе `false`.
-   `set.has(value)` – возвращает `true`, если значение присутствует в множестве, иначе `false`.
-   `set.clear()` – удаляет все имеющиеся значения.
-   `set.size` – возвращает количество элементов в множестве.

Перебор `Map` и `Set` всегда осуществляется в порядке добавления элементов, так что нельзя сказать, что это – неупорядоченные коллекции, но поменять порядок элементов или получить элемент напрямую по его номеру нельзя.